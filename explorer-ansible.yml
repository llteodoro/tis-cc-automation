#Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml


trigger:
- the-first-pipeline

pool:
  vmImage: ubuntu-latest

steps:
- script: echo $PS1

- script: pip install pipenv --user
  displayName: 'Subindo ambiente Python Virtual'

- script: pipenv shell
  displayName: 'Tentando entrar no Venv'

- script: pipenv install ansible 
  displayName: 'Instalando Ansible'

- script: ansible-playbook playbook-explore.yml
  displayName: 'Playbook Ansible'

- script: echo $PS1

#trigger:
#- main
#pool:
#
#  vmImage: ubuntu-latest
#steps:
#
#- script: |
#     python -m venv xpto
#     source xpto/bin/activate
#     python -m pip install --upgrade pip
#     pip install ansible
#     ansible localhost -m setup
#
#  displayName: "Install requirements"